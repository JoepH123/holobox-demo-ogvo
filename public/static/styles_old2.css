/* -----------------------------
   1) CSS Variables (Theme)
   ----------------------------- */
:root {
  /* CHANGE THIS VALUE TO CHANGE MIC COLOR */
  --mic-color: #ff3b30; /* Example: Red. Use RGB/Hex here */
  
  /* Derived RGB version for the pulse effect opacity (r, g, b) */
  --mic-color-rgb: 255, 59, 48; 

  /* Base colors */
  --bg-color: #000000;
  --icon-color: #ffffff;
}

/* -----------------------------
   2) Base / Reset
   ----------------------------- */
*, *::before, *::after { box-sizing: border-box; }

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  background: var(--bg-color);
  font-family: Arial, sans-serif;
  overflow: hidden; /* Prevent scrolling */
  display: flex;
  justify-content: center;
}

/* -----------------------------
   3) Main Portrait Layout
   ----------------------------- */
.portrait-container {
  position: relative;
  width: 100%;
  max-width: 100%; /* Full width of the webpage */
  
  /* Enforce 9:16 Aspect Ratio */
  aspect-ratio: 9 / 16;
  
  /* Center horizontally */
  margin: 0 auto;
  
  /* Optional: limit height to viewport so it fits on screen, 
     remove 'max-height' if you want it to scroll on desktops */
  max-height: 100vh; 
  
  overflow: hidden;
  background-color: #1a1a1a; /* Dark placeholder bg */
}

/* The Image */
.background-image {
  width: 100%;
  height: 100%;
  object-fit: cover; /* Ensures image covers the 9:16 area without stretch */
  display: block;
}

/* -----------------------------
   4) Microphone Button Styling
   ----------------------------- */
.mic-wrapper {
  position: absolute;
  bottom: 5%; /* Positioned near bottom of the image */
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
}

#micBtn {
  width: 4rem;  /* Size of the button */
  height: 4rem;
  border-radius: 50%;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #ffffff; /* Default background */
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

#micBtn svg {
  width: 2rem;
  height: 2rem;
  display: block;
  fill: var(--mic-color); /* Icon takes the variable color */
}

/* Hover State */
#micBtn:hover {
  transform: scale(1.05);
  filter: brightness(0.95);
}

/* -----------------------------
   5) Active Recording State (Pulse)
   ----------------------------- */
#micBtn.recording {
  background-color: var(--mic-color); /* Button becomes colored */
  animation: pulse 1.5s ease-in-out infinite;
}

#micBtn.recording svg {
  fill: #ffffff; /* Icon becomes white */
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(var(--mic-color-rgb), 0.7);
  }
  70% {
    box-shadow: 0 0 0 20px rgba(var(--mic-color-rgb), 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(var(--mic-color-rgb), 0);
  }
}

/* -----------------------------
   6) Hidden Functionality
   ----------------------------- */
/* We keep these in DOM so JS doesn't crash, but hide them completely */
.functional-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
  visibility: hidden;
}